<!-- Include Socket.IO library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
<script src="{{ url_for('static', filename='custom_js.js') }}"></script>
<script src="{{ url_for('static', filename='jquery-3.7.1.slim.min.js') }}"></script>
<script src="{{ url_for('static', filename='bootstrap.bundle.min.js.map') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='_bootswatch.scss') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='_variables.scss') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css.map') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-grid.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-grid.min.css.map') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-reboot.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap-reboot.min.css.map') }}">







@socketio.on('update_data')
def handle_update_data(message):
    # Triggered by the client to request updated data
    # Fetch the actual updated data from your controllers or models
    updated_incomes = budget_controller.get_all_incomes()
    updated_expenses = budget_controller.get_all_expenses()
    updated_accounts = account_controller.get_all_accounts()

    # Send the actual updated data to the client
    data = {
        'incomes': updated_incomes,
        'expenses': updated_expenses,
        'accounts': updated_accounts
    }

    # Example server-side emission in Python/Flask-SocketIO
    socketio.emit('data_updated',
                  {'incomes': updated_incomes, 'expenses': updated_expenses, 'accounts': updated_accounts})


if __name__ == "__main__":
    socketio.run(app, debug=True, allow_unsafe_werkzeug=True)
